<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="../js/jquery.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <title>Document</title>
</head>
<body id="bg">

    <!-- Navigation -->
    
    <nav class="navbar navbar-expand-lg bg-danger navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#"><img id="logo" class="img-fluid" src="../images/thefurrproject.PNG" alt="..."></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">

                    <li class="nav-item">
                        <a id="patient-record-link" class="nav-link" aria-current="page" href="#">Patient Records</a>
                    </li>
                    
                    <li class="nav-item">
                        <a id="medical-records-link" class="nav-link active" aria-current="page" href="#">Medical Records</a>
                    </li>
                    <script>
                        $(document).ready(function(){
                            $('#owner-records').hide();
                            var patientRecords = $('#patient-record-link');
                            var medicalRecords = $('#medical-records-link');
                            patientRecords.on('click', function(e){
                                patientRecords.addClass('active');
                                medicalRecords.removeClass('active');
                                $('#medical-records').hide();
                                $('#list').hide();
                                $('#owner-records').show()
                            })
                            medicalRecords.on('click', function(e){
                                patientRecords.removeClass('active');
                                medicalRecords.addClass('active');
                                $('#medical-records').show();
                                $('#list').show();
                                $('#owner-records').hide();
                            })

                            $.ajax({
                                type: 'GET',
                                url: 'php/panelSessionCheck.php',
                                success: function(response){
                                    if(response == 'index.html'){
                                        window.location.replace(response);
                                    }
                                }
                            })
                        });
                    </script>
                    <script>
                        $(document).ready(function(){
                            var patientName = $('#patient-name');
                            var insertMedicalRecord = $('#insert-medical-record');
                            var clientCode = $('#client-code');
                            var createdDate = $('#created-date');
                            var medicalHistory = $('#medical-history');
                            var wellnessBehavior = $('#wellness-behavior');
                            var birthDate = $('#birth_date');
                            var species = $('#species');
                            var breed = $('#breed');
                            var weight = $('#weight');
                            var temp = $('#temp');
                            var hr = $('#hr');
                            var rr = $('#rr');
                            var physicalExam = $('#physical-exam');
                            var cchx = $('#cc-hx');
                            var dxTools = $('#dx-tools');
                            var tdxDxCase = $('#tdx-dx-case');
                            var treatment = $('#treatment');
                            var surgeryOther = $('#surgery-other');
                            var surgeryOtherValue = "";
                            var inPatientOtherValue = "";
                            var inPatientOther = $('#in-patient-other');
                            var outPatientOther = $('#out-patient-other');
                            var outPatientOtherValue = ""
                            var takeHomeMeds = $('#take-home-meds');


                            
                            insertMedicalRecord.on('click',function(e){
                                e.preventDefault()
                                    
                                if(clientCode.val() == ""){
                                    if(!clientCode.hasClass('is-invalid')){
                                        clientCode.addClass('is-invalid')
                                        $('<div class="invalid-feedback">Please enter the owner\'s client code.</div>').insertAfter(clientCode);
                                        $(window).scrollTop(clientCode.offset().top);
                                    }  
                                }
                                if(createdDate.val() == ""){
                                    if(!createdDate.hasClass('is-invalid')){
                                        createdDate.addClass('is-invalid')
                                        $('<div class="invalid-feedback">Please enter the date.</div>').insertAfter(createdDate);
                                        $(window).scrollTop(clientCode.offset().top);
                                    }
                                    
                                }
        
                                if(surgeryOther.val() == ""){
                                    surgeryOtherValue = $("input[name='surgery']:checked").val();
                                }else{
                                    surgeryOtherValue = surgeryOther.val();
                                }
        
                                if(inPatientOther.val() == ""){
                                    inPatientOtherValue = $("input[name='in-patient']:checked").val();
                                }else{
                                    inPatientOtherValue = inPatientOther.val();
                                }
        
                                if(outPatientOther.val() == ""){
                                    outPatientOtherValue = $("input[name='out-patient']:checked").val();
                                }else{
                                    outPatientOtherValue = outPatientOther.val();
                                }
        
                                if(clientCode.val() != "" && createdDate.val() != ""){
                                    $.ajax({
                                        type: 'POST',
                                        url: 'php/medicalRecordInsertion.php',
                                        data: {
                                            patient_name: patientName.val(),
                                            client_code: clientCode.val(),
                                            created_date: createdDate.val(),
                                            medical_history: medicalHistory.val(),
                                            wellness_behavior: wellnessBehavior.val(),
                                            birth_date: birthDate.val(),
                                            species: species.val(),
                                            breed: breed.val(),
                                            sex: $("input[name='sex']:checked").val(),
                                            weight: weight.val(),
                                            temp: temp.val(),
                                            hr: hr.val(),
                                            rr: rr.val(),
                                            physical_exam: physicalExam.val(),
                                            cc_hx: cchx.val(),
                                            tdx_dx_case: tdxDxCase.val(),
                                            dx_tools: dxTools.val(),
                                            treatment: treatment.val(),
                                            in_patient: inPatientOtherValue,
                                            surgery: surgeryOtherValue,
                                            out_patient: outPatientOtherValue,
                                            take_home_meds: takeHomeMeds.val()
                                        },
        
                                        success: function(response){
                                            if(response != 'create client record first'){
                                                $('#successfully-added-toast').toast({delay:5000});
                                                $('#successfully-added-toast').toast('show');
                                                console.log(response);
                                            }else{
                                                $('#medical-record-added-fail-toast').toast({delay:5000});
                                                $('#medical-record-added-fail-toast').toast("show");
                                            }
                                        }
                                    })
                                }
                            })
                        })
                    </script>
                </ul>
            </div>
        </div>
    </nav>

    <div id="list" class="mt-5">
        <div class="container">
            <h1 class="mt-5">List of Patients' Medical Records</h1>
            <hr>
            <div class="input-group mb-3" id="searchbar">
                <button class="btn btn-outline-danger" type="button" id="search-medical-records">Search</button>
                <input id="search-medical-records-text" type="text" class="form-control" placeholder="Search Medical Records" aria-label="Example text with button addon" aria-describedby="button-addon1">
            </div>

            <script>
                $(document).ready(function(){
                    var searchMedicalRecords = $('#search-medical-records');
                    var searchMedicalRecordsText = $('#search-medical-records-text');
                    var tableBody = $('#table-body');
                    searchMedicalRecords.on('click', function(e){
                        e.preventDefault();

                        if(searchMedicalRecordsText.val() == ""){
                            if(!(searchMedicalRecordsText.hasClass('is-invalid'))){
                                searchMedicalRecordsText.addClass('is-invalid');
                                $('<div class="invalid-feedback">Please fill out this field</div>').insertAfter(searchMedicalRecordsText);
                            }
                        }else{
                            searchMedicalRecordsText.removeClass('is-invalid');
                            $('#table-body').children().remove();

                            $.ajax({
                                type: 'GET',
                                url: 'php/getSearchedMedicalRecords.php',
                                data: {
                                    keyword: searchMedicalRecordsText.val()
                                },
                                success: function(response){
                                    var data = JSON.parse(response);
                                    $(data).each(function(index,value){
                                        tableBody.append(`<tr>
                                                            <div class="card m-1 p-2">
                                                                <div class="card-body">
                                                                    <td>${value.patient_name}</td>
                                                                    <td>${value.client_code}</td>
                                                                    <td><button class="btn btn-primary view-record" value="${value.id}" data-bs-toggle="modal" data-bs-target="#record-modal">View</button></td>
                                                                </div>
                                                            </div>
                                                        </tr>`)
                                    });
                                    var view = $('.view-record');
                                    view.on('click', function(e){
                                        var thisView = $(this);
                                        e.preventDefault();
                                        $.ajax({
                                            type: 'POST',
                                            url: 'php/getSpecificRecord.php',
                                            data: {
                                                record_id: thisView.val()
                                            },
                                            success: function(response){
                                                console.log(response);
                                                var data = JSON.parse(response);
                                                var takeHomeMeds = $('#record-modal').children().children().children().children().children("#take-home-meds");
                                                var patientName = $('#record-modal').children().children().children().children().children().children().children("#patient-name");
                                                var clientCode = $('#record-modal').children().children().children().children().children().children().children('#client-code');
                                                var createdDate = $('#record-modal').children().children().children().children().children().children().children('#created-date');
                                                var contactNumber = $('#record-modal').children().children().children().children().children().children().children('#contact-number');
                                                var medicalHistory = $('#record-modal').children().children().children().children().children('#medical-history');
                                                var wellnessBehavior = $('#record-modal').children().children().children().children().children('#wellness-behavior');
                                                var birthDate = $('#record-modal').children().children().children().children().children().children().children('#birth_date');
                                                var species = $('#record-modal').children().children().children().children().children().children().children('#species');
                                                var breed = $('#record-modal').children().children().children().children().children().children().children('#breed');
                                                var weight = $('#record-modal').children().children().children().children().children().children().children('#weight');
                                                var temp = $('#record-modal').children().children().children().children().children().children().children('#temp');
                                                var hr = $('#record-modal').children().children().children().children().children().children().children('#hr');
                                                var rr = $('#record-modal').children().children().children().children().children().children().children('#rr');
                                                var physicalExam = $('#record-modal').children().children().children().children().children('#physical-exam');
                                                var cchx = $('#record-modal').children().children().children().children().children('#cc-hx');
                                                var dxTools = $('#record-modal').children().children().children().children().children('#dx-tools');
                                                var tdxDxCase = $('#record-modal').children().children().children().children().children('#tdx-dx-case');
                                                var treatment = $('#record-modal').children().children().children().children().children('#treatment');
                                                var surgeryOther = $('#record-modal').children().children().children().children().children().children().children('#surgery-other');
                                                var surgeryOtherValue = "";
                                                var inPatientOtherValue = "";
                                                var inPatientOther = $('#record-modal').children().children().children().children().children().children().children('#in-patient-other');
                                                var outPatientOther = $('#record-modal').children().children().children().children().children().children().children('#out-patient-other');
                                                var outPatientOtherValue = ""
                                                var inPatientYes = $('#record-modal').children().children().children().children().children().children().children('#in-patient-yes');
                                                var inPatientNo = $('#record-modal').children().children().children().children().children().children().children('#in-patient-no');
                                                var surgeryYes = $('#record-modal').children().children().children().children().children().children().children('#surgery-yes');
                                                var surgeryNo = $('#record-modal').children().children().children().children().children().children().children('#surgery-no');
                                                var outPatientYes = $('#record-modal').children().children().children().children().children().children().children('#out-patient-yes');
                                                var outPatientNo = $('#record-modal').children().children().children().children().children().children().children('#out-patient-no');
                                                var male = $('#record-modal').children().children().children().children().children().children().children().children('#male');
                                                var female = $('#record-modal').children().children().children().children().children().children().children().children('#female');
                                                patientName.val(data.patient_name);
                                                clientCode.val(data.client_code);
                                                createdDate.val(data.date);
                                                contactNumber.val(data.contact_no);
                                                medicalHistory.val(data.medical_history);
                                                wellnessBehavior.val(data.wellness_behavior);
                                                birthDate.val(data.date_of_birth);
                                                species.val(data.species);
                                                breed.val(data.breed);
                                                weight.val(data.weight);
                                                temp.val(data.temp);
                                                hr.val(data.hr);
                                                rr.val(data.rr);
                                                physicalExam.val(data.physical_exam);
                                                cchx.val(data.cc_hx);
                                                dxTools.val(data.dx_tools);
                                                tdxDxCase.val(data.tdx_dx_case);
                                                treatment.val(data.treatment);
                                                takeHomeMeds.val(data.take_home_meds_rx);

                                                if(data.in_patient == 'Yes'){
                                                    inPatientYes.prop("checked", true);
                                                }else if(data.in_patient == 'No'){
                                                    inPatientNo.prop("checked", true);
                                                }else{
                                                    inPatientOther.val(data.in_patient)
                                                }

                                                if(data.surgery == 'Yes'){
                                                    surgeryYes.prop("checked", true);
                                                }else if(data.surgery == 'No'){
                                                    surgeryNo.prop("checked", true);
                                                }else{
                                                    surgeryOther.val(data.surgery)
                                                }

                                                if(data.out_patient == 'Yes'){
                                                    outPatientYes.prop("checked", true);
                                                }else if(data.out_patient == 'No'){
                                                    outPatientNo.prop("checked", true);
                                                }else{
                                                    outPatientOther.val(data.out_patient)
                                                }

                                                if(data.sex == 'Male'){
                                                    male.prop("checked", true);
                                                }else{
                                                    female.prop("checked", true);
                                                }
                                            }
                                        })
                                    });
                                }
                            });
                        }
                    })
                })
            </script>


            <div class="card" id="table-card">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">Patient Name</th>
                            <th scope="col">Client Code</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        
                    </tbody>
                </table>
            </div>

            <script>
                $(document).ready(function(){
                    var tableBody = $('#table-body');
                    $.ajax({
                        type: 'GET',
                        url: 'php/getMedicalRecord.php',
                        success: function(response){
                            console.log(response);
                            var data = JSON.parse(response);
                            $(data).each(function(index,value){
                                tableBody.append(`<tr>
                                                    <div class="card m-1 p-2">
                                                        <div class="card-body">
                                                            <td>${value.patient_name}</td>
                                                            <td>${value.client_code}</td>
                                                            <td><button class="btn btn-primary view-record" value="${value.id}" data-bs-toggle="modal" data-bs-target="#record-modal">View</button></td>
                                                        </div>
                                                    </div>
                                                </tr>`)
                            });
                            var view = $('.view-record');
                            view.on('click', function(e){
                                var thisView = $(this);
                                e.preventDefault();
                                $.ajax({
                                    type: 'POST',
                                    url: 'php/getSpecificRecord.php',
                                    data: {
                                        record_id: thisView.val()
                                    },
                                    success: function(response){
                                        console.log(response);
                                        var data = JSON.parse(response);
                                        var takeHomeMeds = $('#record-modal').children().children().children().children().children("#take-home-meds");
                                        var patientName = $('#record-modal').children().children().children().children().children().children().children("#patient-name");
                                        var clientCode = $('#record-modal').children().children().children().children().children().children().children('#client-code');
                                        var createdDate = $('#record-modal').children().children().children().children().children().children().children('#created-date');
                                        var contactNumber = $('#record-modal').children().children().children().children().children().children().children('#contact-number');
                                        var medicalHistory = $('#record-modal').children().children().children().children().children('#medical-history');
                                        var wellnessBehavior = $('#record-modal').children().children().children().children().children('#wellness-behavior');
                                        var birthDate = $('#record-modal').children().children().children().children().children().children().children('#birth_date');
                                        var species = $('#record-modal').children().children().children().children().children().children().children('#species');
                                        var breed = $('#record-modal').children().children().children().children().children().children().children('#breed');
                                        var weight = $('#record-modal').children().children().children().children().children().children().children('#weight');
                                        var temp = $('#record-modal').children().children().children().children().children().children().children('#temp');
                                        var hr = $('#record-modal').children().children().children().children().children().children().children('#hr');
                                        var rr = $('#record-modal').children().children().children().children().children().children().children('#rr');
                                        var physicalExam = $('#record-modal').children().children().children().children().children('#physical-exam');
                                        var cchx = $('#record-modal').children().children().children().children().children('#cc-hx');
                                        var dxTools = $('#record-modal').children().children().children().children().children('#dx-tools');
                                        var tdxDxCase = $('#record-modal').children().children().children().children().children('#tdx-dx-case');
                                        var treatment = $('#record-modal').children().children().children().children().children('#treatment');
                                        var surgeryOther = $('#record-modal').children().children().children().children().children().children().children('#surgery-other');
                                        var surgeryOtherValue = "";
                                        var inPatientOtherValue = "";
                                        var inPatientOther = $('#record-modal').children().children().children().children().children().children().children('#in-patient-other');
                                        var outPatientOther = $('#record-modal').children().children().children().children().children().children().children('#out-patient-other');
                                        var outPatientOtherValue = ""
                                        var inPatientYes = $('#record-modal').children().children().children().children().children().children().children('#in-patient-yes');
                                        var inPatientNo = $('#record-modal').children().children().children().children().children().children().children('#in-patient-no');
                                        var surgeryYes = $('#record-modal').children().children().children().children().children().children().children('#surgery-yes');
                                        var surgeryNo = $('#record-modal').children().children().children().children().children().children().children('#surgery-no');
                                        var outPatientYes = $('#record-modal').children().children().children().children().children().children().children('#out-patient-yes');
                                        var outPatientNo = $('#record-modal').children().children().children().children().children().children().children('#out-patient-no');
                                        var male = $('#record-modal').children().children().children().children().children().children().children().children('#male');
                                        var female = $('#record-modal').children().children().children().children().children().children().children().children('#female');
                                        patientName.val(data.patient_name);
                                        clientCode.val(data.client_code);
                                        createdDate.val(data.date);
                                        contactNumber.val(data.contact_no);
                                        medicalHistory.val(data.medical_history);
                                        wellnessBehavior.val(data.wellness_behavior);
                                        birthDate.val(data.date_of_birth);
                                        species.val(data.species);
                                        breed.val(data.breed);
                                        weight.val(data.weight);
                                        temp.val(data.temp);
                                        hr.val(data.hr);
                                        rr.val(data.rr);
                                        physicalExam.val(data.physical_exam);
                                        cchx.val(data.cc_hx);
                                        dxTools.val(data.dx_tools);
                                        tdxDxCase.val(data.tdx_dx_case);
                                        treatment.val(data.treatment);
                                        takeHomeMeds.val(data.take_home_meds_rx);

                                        if(data.in_patient == 'Yes'){
                                            inPatientYes.prop("checked", true);
                                        }else if(data.in_patient == 'No'){
                                            inPatientNo.prop("checked", true);
                                        }else{
                                            inPatientOther.val(data.in_patient)
                                        }

                                        if(data.surgery == 'Yes'){
                                            surgeryYes.prop("checked", true);
                                        }else if(data.surgery == 'No'){
                                            surgeryNo.prop("checked", true);
                                        }else{
                                            surgeryOther.val(data.surgery)
                                        }

                                        if(data.out_patient == 'Yes'){
                                            outPatientYes.prop("checked", true);
                                        }else if(data.out_patient == 'No'){
                                            outPatientNo.prop("checked", true);
                                        }else{
                                            outPatientOther.val(data.out_patient)
                                        }

                                        if(data.sex == 'Male'){
                                            male.prop("checked", true);
                                        }else{
                                            female.prop("checked", true);
                                        }
                                    }
                                })
                            });
                        }
                    });
                });
            </script>
        </div>
    </div>

    <!-- medical records -->

    
    <div id="medical-records">
        <div class="container">
            <h1 class="mt-5">Patient's Medical Record (Initial Check Up)</h1>
            <hr>
            <form>
                <div class="row d-md-flex mt-3">
                    <div class="col-md-4">
                        <input id="patient-name" class="form-control" type="text" placeholder="Patient Name">
                    </div>
                    <div class="col-md-4">
                        <input id="client-code" class="form-control" type="text" placeholder="Client Code">
                    </div>
                    <div class="col-md-4 d-md-flex">
                        <p>Date:</p>
                        <input id="created-date" class="form-control ms-md-3" type="date" placeholder="Date">
                    </div>
                </div>   

                
                <input id="medical-history" class="form-control mt-3" type="text" placeholder="Medical History">
                <input id="wellness-behavior" class="form-control mt-3" type="text" placeholder="Wellness/Behavior">

                <label for="signalment" class="mt-3"><b>Signalment</b></label>
                <div class="row d-flex justify-content-between mt-3" name="signalment">
                    <div class="col-md-3 d-md-flex">
                        <p>Birth Date:</p>
                        <input id="birth_date" class="form-control" type="date">
                    </div>
                    <div class="col-md-3">
                        <input id="species" class="form-control" type="text" placeholder="Species">
                    </div>
                    <div class="col-md-3">
                        <input id="breed" class="form-control" type="text" placeholder="Breed">
                    </div>
                    
                    
                    <div class="col-md-3 d-flex justify-content-evenly" name="radio-sex">
                        <b>Sex:</b>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="sex" id="male" value="Male">
                            <label class="form-check-label" for="flexRadioDefault1">
                            Male
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="sex" id="female" value="Female">
                            <label class="form-check-label" for="flexRadioDefault1">
                            Female
                            </label>
                        </div>
                    </div>
                </div>

                <label for="vital-signs" class="mt-3"><b>Vital Signs</b></label>
                <div class="row d-flex justify-content-between mt-3" name="vital-signs">
                    <div class="col-md-3">
                        <input id="weight" class="form-control" type="text" placeholder="Weight">
                    </div>
                    <div class="col-md-3">
                        <input id="temp" class="form-control" type="text" placeholder="Temp">
                    </div>
                    <div class="col-md-3">
                        <input id="hr" class="form-control" type="text" placeholder="HR">
                    </div>
                    <div class="col-md-3">
                        <input id="rr" class="form-control" type="text" placeholder="RR">
                    </div>
                
                </div>

                <textarea id="physical-exam" class="form-control mt-3" placeholder="Physical Exam"></textarea>
                <textarea id="cc-hx" class="form-control mt-3" placeholder="CC/HX"></textarea>
                <textarea id="dx-tools" class="form-control mt-3" placeholder="Dx Tools"></textarea>
                <textarea id="tdx-dx-case" class="form-control mt-3" placeholder="TDX/DX/CASE:"></textarea>
                <textarea id="treatment" class="form-control mt-3" placeholder="Treatment"></textarea>

                <div class="d-md-flex justify-content-between mt-3" name="radio-sex">
                    <b>In-Patient:</b>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="in-patient" value="Yes">
                        <label class="form-check-label" for="flexRadioDefault1">
                        Yes
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="in-patient" value="No">
                        <label class="form-check-label" for="flexRadioDefault1">
                        No
                        </label>
                    </div>
                    <div class="col-md-7">
                        <input id="in-patient-other" type="text" class="form-control" placeholder="Other">
                    </div>
                </div>
                <div class="d-md-flex justify-content-between mt-3" name="radio-surgery">
                    <b>Surgery:</b>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="surgery" id="surgery-yes" value="Yes">
                        <label class="form-check-label" for="flexRadioDefault1">
                        Yes
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="surgery" id="surgery-no" value="No">
                        <label class="form-check-label" for="flexRadioDefault1">
                        No
                        </label>
                    </div>
                    <div class="col-md-7">
                        <input id="surgery-other" type="text" class="form-control" placeholder="Other">
                    </div>
                </div>
                <div class="d-md-flex justify-content-between mt-3" name="radio-sex">
                    <b>Out-Patient</b>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="out-patient" value="Yes">
                        <label class="form-check-label" for="flexRadioDefault1">
                        Yes
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="out-patient" value="No">
                        <label class="form-check-label" for="flexRadioDefault1">
                        No
                        </label>
                    </div>
                    <div class="col-md-7">
                        <input id="out-patient-other" type="text" class="form-control" placeholder="Other">
                    </div>
                </div>
                <textarea id="take-home-meds" class="form-control mt-3" placeholder="Take Home Meds"></textarea>
                <button id="insert-medical-record" class="my-3 col-md-3">Confirm</button>
            </form>
        </div>
    </div>

    <!-- Owner Records -->

    <div id="owner-records">
        <div class="container">
            <div class="d-md-flex justify-content-between mt-5">
                <div class="col-md-3">
                    <input id="client-client-name" type="text" class="form-control" placeholder="Client Name">
                    <div id="client-name-invalid" class="invalid-feedback">
                        Please fill out this field.
                    </div>
                </div>
                <div class="col-md-3">
                    <input id="client-client-code" type="text" class="form-control" placeholder="Client Code">
                    <div id="client-code-invalid" class="invalid-feedback">
                        Please fill out this field.
                    </div>
                </div>
                <div class="col-md-3">
                    <input id="client-client-contact" type="text" class="form-control" placeholder="Contact Number">
                    <div id="client-number-invalid" class="invalid-feedback">
                        Please fill out this field.
                    </div>
                </div>    
            </div>
            <button id="insert-client-record" class="btn btn-danger mt-3">Confirm</button>
        </div>

        <!-- client record script -->
        <script>
            $(document).ready(function(){
                var clientName = $('#client-client-name');
                var clientCode = $('#client-client-code');
                var clientContact = $('#client-client-contact');
                var insertClientRecord = $('#insert-client-record');


                insertClientRecord.on('click', function(e){
                    e.preventDefault();
                    if(clientCode.val() != "" && clientName.val() != "" && clientContact.val() != ""){
                        $.ajax({
                            type: 'POST',
                            url: 'php/insertClientRecord.php',
                            data: {
                                client_name: clientName.val(),
                                client_code: clientCode.val(),
                                contact_no: clientContact.val()
                            },
                            success: function(response){
                                if(response == 'ok'){
                                    $('#client-record-successfully-added-toast').toast({delay:5000});
                                    $('#client-record-successfully-added-toast').toast('show');
                                }else{
                                    $('#client-record-error-toast').toast({delay:5000});
                                    $('#client-record-error-toast').toast('show');
                                }
                            }
                        })
                    }else{
                        if(clientName.val() == ""){
                            clientName.addClass('is-invalid');
                        }
                        if(clientCode.val() == ""){
                            clientCode.addClass('is-invalid');
                        }
                        if(clientContact.val() == ""){
                            clientContact.addClass('is-invalid');
                        }
                    }
                })
            })
        </script>

    </div>
    

    <!-- Patient Medical Record Modal -->
    <div class="container">

    
    <div class="modal fade" id="record-modal">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row d-flex justify-content-between mt-3">
                            <div class="col-md-3">
                                <input id="patient-name" class="form-control" type="text" placeholder="Registered Patient Name">
                                <div id="patient-name-error">
        
                                </div>
                            </div>
                            <div class="col-md-3">
                                <input id="client-code" class="form-control" type="text" placeholder="Client Code">
                            </div>
                            <div class="col-md-3">
                                <input id="created-date" class="form-control" type="date" placeholder="Date">
                            </div>
                            <div class="col-md-3">
                                <input id="contact-number" class="form-control" type="text" placeholder="Contact Number">
                            </div>
                        </div>   
        
                        
                        <input id="medical-history" class="form-control mt-3" type="text" placeholder="Medical History">
                        <input id="wellness-behavior" class="form-control mt-3" type="text" placeholder="Wellness/Behavior">
        
                        <label for="signalment" class="mt-3"><b>Signalment</b></label>
                        <div class="row d-flex justify-content-between mt-3" name="signalment">
                            <div class="col-md-3">
                                <input id="birth_date" class="form-control" type="date">
                            </div>
                            <div class="col-md-3">
                                <input id="species" class="form-control" type="text" placeholder="Species">
                            </div>
                            <div class="col-md-3">
                                <input id="breed" class="form-control" type="text" placeholder="Breed">
                            </div>
                            
                            
                            <div class="col-md-3 d-flex justify-content-evenly" name="radio-sex">
                                <b>Sex:</b>
                                <div class="form-check">
                                    <input id="male" class="form-check-input" type="radio" name="sex" id="male" value="Male">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                    Male
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input id="female" class="form-check-input" type="radio" name="sex" id="female" value="Female">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                    Female
                                    </label>
                                </div>
                            </div>
                        </div>
        
                        <label for="vital-signs" class="mt-3"><b>Vital Signs</b></label>
                        <div class="row d-flex justify-content-between mt-3" name="vital-signs">
                            <div class="col-md-3">
                                <input id="weight" class="form-control" type="text" placeholder="Weight">
                            </div>
                            <div class="col-md-3">
                                <input id="temp" class="form-control" type="text" placeholder="Temp">
                            </div>
                            <div class="col-md-3">
                                <input id="hr" class="form-control" type="text" placeholder="HR">
                            </div>
                            <div class="col-md-3">
                                <input id="rr" class="form-control" type="text" placeholder="RR">
                            </div>
                        
                        </div>
        
                        <textarea id="physical-exam" class="form-control mt-3" placeholder="Physical Exam"></textarea>
                        <textarea id="cc-hx" class="form-control mt-3" placeholder="CC/HX"></textarea>
                        <textarea id="dx-tools" class="form-control mt-3" placeholder="Dx Tools"></textarea>
                        <textarea id="tdx-dx-case" class="form-control mt-3" placeholder="TDX/DX/CASE:"></textarea>
                        <textarea id="treatment" class="form-control mt-3" placeholder="Treatment"></textarea>
        
                        <div class="d-md-flex justify-content-between mt-3" name="radio-sex">
                            <b>In-Patient:</b>
                            <div class="form-check">
                                <input id="in-patient-yes" class="form-check-input" type="radio" name="in-patient" value="Yes">
                                <label class="form-check-label" for="flexRadioDefault1">
                                Yes
                                </label>
                            </div>
                            <div class="form-check">
                                <input id="in-patient-no" class="form-check-input" type="radio" name="in-patient" value="No">
                                <label class="form-check-label" for="flexRadioDefault1">
                                No
                                </label>
                            </div>
                            <div class="col-md-7">
                                <input id="in-patient-other" type="text" class="form-control" placeholder="Other">
                            </div>
                        </div>
                        <div class="d-md-flex justify-content-between mt-3" name="radio-surgery">
                            <b>Surgery:</b>
                            <div class="form-check">
                                <input id="surgery-yes" class="form-check-input" type="radio" name="surgery" id="surgery-yes" value="Yes">
                                <label class="form-check-label" for="flexRadioDefault1">
                                Yes
                                </label>
                            </div>
                            <div class="form-check">
                                <input id="surgery-no" class="form-check-input" type="radio" name="surgery" id="surgery-no" value="No">
                                <label class="form-check-label" for="flexRadioDefault1">
                                No
                                </label>
                            </div>
                            <div class="col-md-7">
                                <input id="surgery-other" type="text" class="form-control" placeholder="Other">
                            </div>
                        </div>
                        <div class="d-md-flex justify-content-between mt-3" name="radio-sex">
                            <b>Out-Patient</b>
                            <div class="form-check">
                                <input id="out-patient-yes" class="form-check-input" type="radio" name="out-patient" value="Yes">
                                <label class="form-check-label" for="flexRadioDefault1">
                                Yes
                                </label>
                            </div>
                            <div class="form-check">
                                <input id="out-patient-no" class="form-check-input" type="radio" name="out-patient" value="No">
                                <label class="form-check-label" for="flexRadioDefault1">
                                No
                                </label>
                            </div>
                            <div class="col-md-7">
                                <input id="out-patient-other" type="text" class="form-control" placeholder="Other">
                            </div>
                        </div>
                        <textarea id="take-home-meds" class="form-control mt-3" placeholder="Take Home Meds"></textarea>
                        <button id="insert-medical-record" class="my-3 col-md-3">Confirm</button>
                    </form>


                    
                </div>
            </div>
        </div>
    </div>
    <!-- record success toast -->
    <div class="toast align-items-center bg-success text-light position-fixed bottom-0 end-0 border-0" id="successfully-added-toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                Record has been added successfully!
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
    <!-- client record success toast -->
    <div class="toast align-items-center bg-success text-light position-fixed bottom-0 end-0 border-0" id="client-record-successfully-added-toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                Record has been added successfully!
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>

    <!-- client record success toast -->
    <div class="toast align-items-center bg-danger text-light position-fixed bottom-0 end-0 border-0" id="client-record-error-toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                Client Already Exists.
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>

    <!-- record fail toast -->
    <div class="toast align-items-center bg-danger text-light position-fixed bottom-0 end-0 border-0" id="medical-record-added-fail-toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                Client not available. Please check the client code.
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
    
</body>
</html>